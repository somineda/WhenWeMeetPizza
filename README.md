# ğŸ• í•ì íŒŸ (Pizza Pot)

> ëª¨ì„ ì¼ì • ì¡°ìœ¨ì„ ì‰½ê³  ë¹ ë¥´ê²Œ! ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ìµœì ì˜ ì‹œê°„ì„ ì°¾ì•„ë³´ì„¸ìš”.

<p align="center">
  <img src="https://img.shields.io/badge/Next.js-14.2-black?logo=next.js" alt="Next.js" />
  <img src="https://img.shields.io/badge/Django-4.2-092E20?logo=django" alt="Django" />
  <img src="https://img.shields.io/badge/PostgreSQL-15-336791?logo=postgresql" alt="PostgreSQL" />
  <img src="https://img.shields.io/badge/Redis-7-DC382D?logo=redis" alt="Redis" />
  <img src="https://img.shields.io/badge/Celery-5.3-37814A?logo=celery" alt="Celery" />
</p>

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ì†Œê°œ

**í•ì íŒŸ**ì€ ì—¬ëŸ¬ ì‚¬ëŒì˜ ì¼ì •ì„ ì¡°ìœ¨í•  ë•Œ ê²ªëŠ” ë¶ˆí¸í•¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë§Œë“  ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

ì¹´ì¹´ì˜¤í†¡ íˆ¬í‘œë‚˜ ì—‘ì…€ ëŒ€ì‹ , ë§í¬ í•˜ë‚˜ë¡œ ëª¨ë‘ì˜ ê°€ëŠ¥í•œ ì‹œê°„ì„ ìˆ˜ì§‘í•˜ê³  ìµœì ì˜ ì‹œê°„ì„ ì¶”ì²œë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### âœ¨ ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ğŸ“… **ì´ë²¤íŠ¸ ìƒì„±** | ë‚ ì§œ/ì‹œê°„ ë²”ìœ„ë¥¼ ì„¤ì •í•˜ì—¬ ì¼ì • ì¡°ìœ¨ ì‹œì‘ |
| ğŸ‘¥ **ìµëª… ì°¸ê°€** | íšŒì›ê°€ì… ì—†ì´ ë§í¬ë§Œìœ¼ë¡œ ì°¸ê°€ ê°€ëŠ¥ |
| ğŸ”¥ **íˆíŠ¸ë§µ ì‹œê°í™”** | ì°¸ê°€ìë“¤ì˜ ê°€ëŠ¥ ì‹œê°„ì„ í•œëˆˆì— í™•ì¸ |
| â° **ìµœì  ì‹œê°„ ì¶”ì²œ** | ê°€ì¥ ë§ì€ ì‚¬ëŒì´ ê°€ëŠ¥í•œ ì‹œê°„ ìë™ ì¶”ì²œ |
| ğŸ“§ **ì´ë©”ì¼ ì•Œë¦¼** | ì¼ì • í™•ì • ì‹œ ì°¸ê°€ìì—ê²Œ ì´ë©”ì¼ ë°œì†¡ |
| ğŸ“± **SMS ì•Œë¦¼** | Solapi ì—°ë™ìœ¼ë¡œ ë¬¸ì ì•Œë¦¼ ë°œì†¡ |
| ğŸ’¬ **ì¹´ì¹´ì˜¤í†¡ ê³µìœ ** | ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì´ë²¤íŠ¸ ë§í¬ ì‰½ê²Œ ê³µìœ  |
| ğŸ“† **ìº˜ë¦°ë” ì—°ë™** | ICS íŒŒì¼ ë‹¤ìš´ë¡œë“œë¡œ ìº˜ë¦°ë” ì¶”ê°€ |

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: Django 4.2 + Django REST Framework
- **Database**: PostgreSQL 15
- **Cache/Broker**: Redis 7
- **Task Queue**: Celery 5.3
- **Authentication**: JWT (httpOnly Cookie)

### Frontend
- **Framework**: Next.js 14.2 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State**: Zustand
- **Form**: React Hook Form + Zod

### Infrastructure
- **Server**: AWS EC2 (Amazon Linux 2023)
- **Web Server**: Nginx (Reverse Proxy)
- **Process Manager**: systemd

### External Services
- **Email**: Django SMTP (Gmail)
- **SMS**: Solapi API
- **Share**: Kakao JavaScript SDK

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client    â”‚â”€â”€â”€â”€â–¶â”‚    Nginx    â”‚â”€â”€â”€â”€â–¶â”‚  Next.js    â”‚
â”‚  (Browser)  â”‚     â”‚   (Proxy)   â”‚     â”‚  (Port 3000)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Django    â”‚â”€â”€â”€â”€â–¶â”‚ PostgreSQL  â”‚
                    â”‚ (Port 8000) â”‚     â”‚             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Celery    â”‚â”€â”€â”€â”€â–¶â”‚    Redis    â”‚
                    â”‚  (Worker)   â”‚     â”‚   (Broker)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Python 3.9+
- Node.js 18+
- PostgreSQL 15+
- Redis 7+

### Backend ì„¤ì •

```bash
# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì •

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
python manage.py migrate

# ê°œë°œ ì„œë²„ ì‹¤í–‰
python manage.py runserver
```

### Frontend ì„¤ì •

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# .env.local íŒŒì¼ ìˆ˜ì •

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

### Celery ì‹¤í–‰ (ë³„ë„ í„°ë¯¸ë„)

```bash
celery -A config worker -l INFO
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
pizza/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ accounts/          # ì‚¬ìš©ì ì¸ì¦
â”‚   â”œâ”€â”€ events/            # ì´ë²¤íŠ¸ ê´€ë¦¬
â”‚   â”œâ”€â”€ participants/      # ì°¸ê°€ì ê´€ë¦¬
â”‚   â””â”€â”€ availability/      # ê°€ìš© ì‹œê°„ ê´€ë¦¬
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”œâ”€â”€ base.py        # ê³µí†µ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ local.py       # ë¡œì»¬ ì„¤ì •
â”‚   â”‚   â””â”€â”€ production.py  # ìš´ì˜ ì„¤ì •
â”‚   â”œâ”€â”€ celery.py          # Celery ì„¤ì •
â”‚   â””â”€â”€ urls.py            # URL ë¼ìš°íŒ…
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/               # Next.js App Router
â”‚   â”œâ”€â”€ components/        # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/               # ìœ í‹¸ë¦¬í‹°, API
â”‚   â””â”€â”€ types/             # TypeScript íƒ€ì…
â””â”€â”€ requirements.txt
```

---

## ğŸ” í™˜ê²½ë³€ìˆ˜ ì„¤ì •

### Backend (.env)

```env
# Django
SECRET_KEY=your-secret-key
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# Database
DB_NAME=pizza_db
DB_USER=postgres
DB_PASSWORD=your-password
DB_HOST=localhost
DB_PORT=5432

# Redis
REDIS_URL=redis://localhost:6379/0

# Email
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# SMS (Solapi)
SOLAPI_API_KEY=your-api-key
SOLAPI_API_SECRET=your-api-secret
SOLAPI_SENDER_NUMBER=01012345678

# Frontend URL
FRONTEND_URL=http://localhost:3000
```

### Frontend (.env.local)

```env
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_KAKAO_JAVASCRIPT_KEY=your-kakao-key
```

---

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

ê°œë°œ ê³¼ì •ì—ì„œ ê²ªì€ ì£¼ìš” ì´ìŠˆì™€ í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤.

<details>
<summary><b>PostgreSQL ì¸ì¦ ì˜¤ë¥˜</b></summary>

**ì—ëŸ¬**: `ident authentication failed for user`

**í•´ê²°**: `/var/lib/pgsql/data/pg_hba.conf` íŒŒì¼ì—ì„œ ì¸ì¦ ë°©ì‹ì„ `ident` â†’ `md5`ë¡œ ë³€ê²½
```
local   all   all   md5
host    all   all   127.0.0.1/32   md5
```
</details>

<details>
<summary><b>401 Unauthorized (JWT ì¿ í‚¤ ì¸ì¦)</b></summary>

**ì›ì¸**: HTTP í™˜ê²½ì—ì„œ `Secure` ì¿ í‚¤ê°€ ì „ì†¡ë˜ì§€ ì•ŠìŒ

**í•´ê²°**: `USE_HTTPS` í™˜ê²½ë³€ìˆ˜ë¡œ ë¶„ê¸° ì²˜ë¦¬
```python
USE_HTTPS = os.environ.get('USE_HTTPS', 'False').lower() == 'true'
SECURE_SSL_REDIRECT = USE_HTTPS
SESSION_COOKIE_SECURE = USE_HTTPS
```
</details>

<details>
<summary><b>ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë²„íŠ¼ ë¹„í™œì„±í™”</b></summary>

**ì›ì¸**: Kakao SDKê°€ ë¹„ë™ê¸°(async)ë¡œ ë¡œë“œë˜ì–´ useEffect ì‹¤í–‰ ì‹œì ì— ë¯¸ë¡œë“œ

**í•´ê²°**: Polling ë°©ì‹ìœ¼ë¡œ SDK ë¡œë“œ ëŒ€ê¸°
```typescript
const interval = setInterval(() => {
  if (window.Kakao && !window.Kakao.isInitialized()) {
    window.Kakao.init(kakaoKey);
    setKakaoReady(true);
    clearInterval(interval);
  }
}, 100);
```
</details>

<details>
<summary><b>SMS ë°œì†¡ ì‹¤íŒ¨ - IP ë¯¸í—ˆìš©</b></summary>

**ì—ëŸ¬**: `í—ˆìš©ë˜ì§€ ì•Šì€ IPë¡œ ì ‘ê·¼í•˜ê³  ìˆìŠµë‹ˆë‹¤`

**í•´ê²°**: Solapi ì½˜ì†”ì—ì„œ EC2 ì„œë²„ IPë¥¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
</details>

<details>
<summary><b>í™˜ê²½ë³€ìˆ˜ ë¯¸ì ìš© (ì•ì— ê³µë°±)</b></summary>

**ì›ì¸**: `.env` íŒŒì¼ì—ì„œ ë³€ìˆ˜ ì•ì— ê³µë°±ì´ ìˆìœ¼ë©´ ì¸ì‹ ì•ˆë¨
```
  SOLAPI_API_KEY=xxx  # â† ì•ì— ê³µë°± ìˆìŒ
```

**í•´ê²°**: `sed -i 's/^[[:space:]]*//' .env`
</details>

---

## ğŸ“¸ ì‹¤í–‰ í™”ë©´

### ë©”ì¸ í˜ì´ì§€
![ë©”ì¸ í˜ì´ì§€](screenshots/main.png)

### ì´ë²¤íŠ¸ ìƒì„±
![ì´ë²¤íŠ¸ ìƒì„±](screenshots/create-event.gif)

### ì‹œê°„ ì„ íƒ
![ì‹œê°„ ì„ íƒ](screenshots/select-time.gif)

### ëŒ€ì‹œë³´ë“œ
![ëŒ€ì‹œë³´ë“œ](screenshots/dashboard.png)

### ìµœì¢… ì‹œê°„ ì„ íƒ
![ìµœì¢… ì‹œê°„ ì„ íƒ](screenshots/final-choice.gif)

---

## ğŸ‘©â€ğŸ’» ê°œë°œì

- **ì†Œë¯¼** - [GitHub](https://github.com/somineda)


